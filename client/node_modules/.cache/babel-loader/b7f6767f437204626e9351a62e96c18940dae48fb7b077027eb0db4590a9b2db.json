{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\CascadeProjects\\\\print-catalog-app\\\\client\\\\src\\\\pages\\\\OrderPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { Container, Typography, Box, Alert, CircularProgress, Paper, Button } from '@mui/material';\nimport { getPrints } from '../services/api';\nimport OrderForm from '../components/OrderForm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst OrderPage = () => {\n  _s();\n  const {\n    printId\n  } = useParams();\n  const navigate = useNavigate();\n  const [print, setPrint] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [showForm, setShowForm] = useState(true);\n  useEffect(() => {\n    const loadPrint = async () => {\n      try {\n        const response = await getPrints();\n        const foundPrint = response.data.find(p => p.id === parseInt(printId, 10));\n        if (!foundPrint) {\n          throw new Error('Print not found');\n        }\n        setPrint(foundPrint);\n      } catch (err) {\n        setError(err.message);\n        console.error('Error loading print:', err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    loadPrint();\n  }, [printId]);\n  const handleOrderClose = success => {\n    if (success) {\n      navigate('/orders');\n    } else {\n      setShowForm(false);\n      navigate('/prints');\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        mt: 4\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this);\n  }\n  if (error || !print) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"sm\",\n      children: /*#__PURE__*/_jsxDEV(Paper, {\n        sx: {\n          p: 3,\n          mt: 4\n        },\n        children: [/*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"error\",\n          sx: {\n            mb: 2\n          },\n          children: error || 'Print not found'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          onClick: () => navigate('/prints'),\n          fullWidth: true,\n          children: \"Back to Prints\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this);\n  }\n  if (!print.quantityAvailable) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"sm\",\n      children: /*#__PURE__*/_jsxDEV(Paper, {\n        sx: {\n          p: 3,\n          mt: 4\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          gutterBottom: true,\n          children: print.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"warning\",\n          sx: {\n            mb: 2\n          },\n          children: \"This print is currently not available.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          onClick: () => navigate('/prints'),\n          fullWidth: true,\n          children: \"Back to Prints\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      component: \"h1\",\n      gutterBottom: true,\n      children: [\"Order Print: \", print.name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this), showForm && /*#__PURE__*/_jsxDEV(OrderForm, {\n      open: true,\n      onClose: handleOrderClose,\n      print: print\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 5\n  }, this);\n};\n_s(OrderPage, \"UzmcPf2mPWzubeMxUuNgC9lmbJc=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = OrderPage;\nexport default OrderPage;\nvar _c;\n$RefreshReg$(_c, \"OrderPage\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","Container","Typography","Box","Alert","CircularProgress","Paper","Button","getPrints","OrderForm","jsxDEV","_jsxDEV","OrderPage","_s","printId","navigate","print","setPrint","loading","setLoading","error","setError","showForm","setShowForm","loadPrint","response","foundPrint","data","find","p","id","parseInt","Error","err","message","console","handleOrderClose","success","sx","display","justifyContent","mt","children","fileName","_jsxFileName","lineNumber","columnNumber","maxWidth","severity","mb","variant","onClick","fullWidth","quantityAvailable","gutterBottom","name","component","open","onClose","_c","$RefreshReg$"],"sources":["C:/Users/admin/CascadeProjects/print-catalog-app/client/src/pages/OrderPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport {\n  Container,\n  Typography,\n  Box,\n  Alert,\n  CircularProgress,\n  Paper,\n  Button,\n} from '@mui/material';\nimport { getPrints } from '../services/api';\nimport OrderForm from '../components/OrderForm';\n\nconst OrderPage = () => {\n  const { printId } = useParams();\n  const navigate = useNavigate();\n  const [print, setPrint] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [showForm, setShowForm] = useState(true);\n\n  useEffect(() => {\n    const loadPrint = async () => {\n      try {\n        const response = await getPrints();\n        const foundPrint = response.data.find(p => p.id === parseInt(printId, 10));\n        if (!foundPrint) {\n          throw new Error('Print not found');\n        }\n        setPrint(foundPrint);\n      } catch (err) {\n        setError(err.message);\n        console.error('Error loading print:', err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadPrint();\n  }, [printId]);\n\n  const handleOrderClose = (success) => {\n    if (success) {\n      navigate('/orders');\n    } else {\n      setShowForm(false);\n      navigate('/prints');\n    }\n  };\n\n  if (loading) {\n    return (\n      <Box sx={{ display: 'flex', justifyContent: 'center', mt: 4 }}>\n        <CircularProgress />\n      </Box>\n    );\n  }\n\n  if (error || !print) {\n    return (\n      <Container maxWidth=\"sm\">\n        <Paper sx={{ p: 3, mt: 4 }}>\n          <Alert severity=\"error\" sx={{ mb: 2 }}>\n            {error || 'Print not found'}\n          </Alert>\n          <Button\n            variant=\"contained\"\n            onClick={() => navigate('/prints')}\n            fullWidth\n          >\n            Back to Prints\n          </Button>\n        </Paper>\n      </Container>\n    );\n  }\n\n  if (!print.quantityAvailable) {\n    return (\n      <Container maxWidth=\"sm\">\n        <Paper sx={{ p: 3, mt: 4 }}>\n          <Typography variant=\"h5\" gutterBottom>\n            {print.name}\n          </Typography>\n          <Alert severity=\"warning\" sx={{ mb: 2 }}>\n            This print is currently not available.\n          </Alert>\n          <Button\n            variant=\"contained\"\n            onClick={() => navigate('/prints')}\n            fullWidth\n          >\n            Back to Prints\n          </Button>\n        </Paper>\n      </Container>\n    );\n  }\n\n  return (\n    <Container>\n      <Typography variant=\"h4\" component=\"h1\" gutterBottom>\n        Order Print: {print.name}\n      </Typography>\n\n      {showForm && (\n        <OrderForm\n          open={true}\n          onClose={handleOrderClose}\n          print={print}\n        />\n      )}\n    </Container>\n  );\n};\n\nexport default OrderPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}